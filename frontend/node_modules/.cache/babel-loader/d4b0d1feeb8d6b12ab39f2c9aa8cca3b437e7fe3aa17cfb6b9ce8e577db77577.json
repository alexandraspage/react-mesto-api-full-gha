{"ast":null,"code":"import _slicedToArray from\"/Users/macbook/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import Card from'./Card';import api from'../utils/Api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(props){var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),userName=_React$useState2[0],setUserName=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),userDescription=_React$useState4[0],setUserDescription=_React$useState4[1];var _React$useState5=React.useState([]),_React$useState6=_slicedToArray(_React$useState5,2),userAvatar=_React$useState6[0],setUserAvatar=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),cards=_React$useState8[0],setCards=_React$useState8[1];React.useEffect(function(){api.getInfo().then(function(data){setUserDescription(data.about);setUserAvatar(data.avatar);setUserName(data.name);}).catch(function(err){console.log(err);});});React.useEffect(function(){api.getAllCards().then(function(data){setCards(data.map(function(item){return{id:item._id,name:item.name,link:item.link,likes:item.likes.length};}));}).catch(function(err){console.log(err);});});return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"profile__avatar-button\",type:\"button\",onClick:props.onEditAvatar,children:/*#__PURE__*/_jsx(\"img\",{className:\"profile__avatar\",src:userAvatar})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name\",children:userName}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__edit-button\",type:\"button\",onClick:props.onEditProfile}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__description\",children:userDescription})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__add-button\",type:\"button\",onClick:props.onAddPlace})]}),/*#__PURE__*/_jsx(\"section\",{className:\"elements\",children:cards.map(function(item){return/*#__PURE__*/_jsx(Card,{card:item,onCardClick:props.onCardClick},item.id);})})]});}export default Main;","map":{"version":3,"names":["React","Card","api","jsx","_jsx","jsxs","_jsxs","Main","props","_React$useState","useState","_React$useState2","_slicedToArray","userName","setUserName","_React$useState3","_React$useState4","userDescription","setUserDescription","_React$useState5","_React$useState6","userAvatar","setUserAvatar","_React$useState7","_React$useState8","cards","setCards","useEffect","getInfo","then","data","about","avatar","name","catch","err","console","log","getAllCards","map","item","id","_id","link","likes","length","className","children","type","onClick","onEditAvatar","src","onEditProfile","onAddPlace","card","onCardClick"],"sources":["/Users/macbook/dev/mesto-react/src/components/Main.js"],"sourcesContent":["import React from 'react';\nimport Card from './Card';\nimport api from '../utils/Api';\n\nfunction Main(props) {\n    const [userName, setUserName] = React.useState([]);\n    const [userDescription, setUserDescription] = React.useState([]);\n    const [userAvatar, setUserAvatar] = React.useState([]);\n    const [cards, setCards] = React.useState([]);\n\n    React.useEffect(() => {\n\n        api.getInfo()\n            .then((data) => {\n                \n                setUserDescription(data.about)\n                setUserAvatar(data.avatar);\n                setUserName(data.name)\n\n            })\n            .catch((err) => { console.log(err) })\n    })\n\n    React.useEffect(() => {\n        api.getAllCards()\n        .then((data) => {\n            setCards(data.map(item => ({\n                id: item._id,\n                name: item.name,\n                link: item.link,\n                likes: item.likes.length\n            })))\n            \n        })\n        .catch((err) => { console.log(err) })\n    })\n\n    return (\n        <main className=\"content\">\n            <section className=\"profile\">\n                <div className=\"profile__container\">\n                    <button className=\"profile__avatar-button\" type=\"button\" onClick={props.onEditAvatar}>\n                        <img className=\"profile__avatar\" src={userAvatar} />\n                    </button>\n                    <div className=\"profile__info\">\n                        <h1 className=\"profile__name\">{userName}</h1>\n                        <button className=\"profile__edit-button\" type=\"button\" onClick={props.onEditProfile}></button>\n                        <p className=\"profile__description\">{userDescription}</p>\n                    </div>\n                </div>\n                <button className=\"profile__add-button\" type=\"button\" onClick={props.onAddPlace}></button>\n            </section>\n           \n            <section className=\"elements\">\n            {cards.map((item) => {\n                return(\n                    <Card key={item.id} card={item} onCardClick={props.onCardClick}/>\n                )\n            })}\n             \n             \n\n            </section>\n        </main>\n    )\n\n\n\n}\n\nexport default Main;"],"mappings":"oHAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,IAAI,KAAM,QAAQ,CACzB,MAAO,CAAAC,GAAG,KAAM,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/B,QAAS,CAAAC,IAAIA,CAACC,KAAK,CAAE,CACjB,IAAAC,eAAA,CAAgCT,KAAK,CAACU,QAAQ,CAAC,EAAE,CAAC,CAAAC,gBAAA,CAAAC,cAAA,CAAAH,eAAA,IAA3CI,QAAQ,CAAAF,gBAAA,IAAEG,WAAW,CAAAH,gBAAA,IAC5B,IAAAI,gBAAA,CAA8Cf,KAAK,CAACU,QAAQ,CAAC,EAAE,CAAC,CAAAM,gBAAA,CAAAJ,cAAA,CAAAG,gBAAA,IAAzDE,eAAe,CAAAD,gBAAA,IAAEE,kBAAkB,CAAAF,gBAAA,IAC1C,IAAAG,gBAAA,CAAoCnB,KAAK,CAACU,QAAQ,CAAC,EAAE,CAAC,CAAAU,gBAAA,CAAAR,cAAA,CAAAO,gBAAA,IAA/CE,UAAU,CAAAD,gBAAA,IAAEE,aAAa,CAAAF,gBAAA,IAChC,IAAAG,gBAAA,CAA0BvB,KAAK,CAACU,QAAQ,CAAC,EAAE,CAAC,CAAAc,gBAAA,CAAAZ,cAAA,CAAAW,gBAAA,IAArCE,KAAK,CAAAD,gBAAA,IAAEE,QAAQ,CAAAF,gBAAA,IAEtBxB,KAAK,CAAC2B,SAAS,CAAC,UAAM,CAElBzB,GAAG,CAAC0B,OAAO,EAAE,CACRC,IAAI,CAAC,SAACC,IAAI,CAAK,CAEZZ,kBAAkB,CAACY,IAAI,CAACC,KAAK,CAAC,CAC9BT,aAAa,CAACQ,IAAI,CAACE,MAAM,CAAC,CAC1BlB,WAAW,CAACgB,IAAI,CAACG,IAAI,CAAC,CAE1B,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,GAAG,CAAK,CAAEC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC,CAAC,CAAC,CAC7C,CAAC,CAAC,CAEFnC,KAAK,CAAC2B,SAAS,CAAC,UAAM,CAClBzB,GAAG,CAACoC,WAAW,EAAE,CAChBT,IAAI,CAAC,SAACC,IAAI,CAAK,CACZJ,QAAQ,CAACI,IAAI,CAACS,GAAG,CAAC,SAAAC,IAAI,QAAK,CACvBC,EAAE,CAAED,IAAI,CAACE,GAAG,CACZT,IAAI,CAAEO,IAAI,CAACP,IAAI,CACfU,IAAI,CAAEH,IAAI,CAACG,IAAI,CACfC,KAAK,CAAEJ,IAAI,CAACI,KAAK,CAACC,MACtB,CAAC,EAAC,CAAC,CAAC,CAER,CAAC,CAAC,CACDX,KAAK,CAAC,SAACC,GAAG,CAAK,CAAEC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC,CAAC,CAAC,CACzC,CAAC,CAAC,CAEF,mBACI7B,KAAA,SAAMwC,SAAS,CAAC,SAAS,CAAAC,QAAA,eACrBzC,KAAA,YAASwC,SAAS,CAAC,SAAS,CAAAC,QAAA,eACxBzC,KAAA,QAAKwC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eAC/B3C,IAAA,WAAQ0C,SAAS,CAAC,wBAAwB,CAACE,IAAI,CAAC,QAAQ,CAACC,OAAO,CAAEzC,KAAK,CAAC0C,YAAa,CAAAH,QAAA,cACjF3C,IAAA,QAAK0C,SAAS,CAAC,iBAAiB,CAACK,GAAG,CAAE9B,UAAW,EAAG,EAC/C,cACTf,KAAA,QAAKwC,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC1B3C,IAAA,OAAI0C,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAElC,QAAQ,EAAM,cAC7CT,IAAA,WAAQ0C,SAAS,CAAC,sBAAsB,CAACE,IAAI,CAAC,QAAQ,CAACC,OAAO,CAAEzC,KAAK,CAAC4C,aAAc,EAAU,cAC9FhD,IAAA,MAAG0C,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAE9B,eAAe,EAAK,GACvD,GACJ,cACNb,IAAA,WAAQ0C,SAAS,CAAC,qBAAqB,CAACE,IAAI,CAAC,QAAQ,CAACC,OAAO,CAAEzC,KAAK,CAAC6C,UAAW,EAAU,GACpF,cAEVjD,IAAA,YAAS0C,SAAS,CAAC,UAAU,CAAAC,QAAA,CAC5BtB,KAAK,CAACc,GAAG,CAAC,SAACC,IAAI,CAAK,CACjB,mBACIpC,IAAA,CAACH,IAAI,EAAeqD,IAAI,CAAEd,IAAK,CAACe,WAAW,CAAE/C,KAAK,CAAC+C,WAAY,EAApDf,IAAI,CAACC,EAAE,CAA+C,CAEzE,CAAC,CAAC,EAIQ,GACP,CAKf,CAEA,cAAe,CAAAlC,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}